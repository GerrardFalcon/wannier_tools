<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Input &#8212; WannierTools 2.1 documentation</title>
    
    <link rel="stylesheet" href="static/classic.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="top" title="WannierTools 2.1 documentation" href="index.html" />
    <link rel="next" title="Features of WannierTools" href="features.html" />
    <link rel="prev" title="Installation (Linux or Mac)" href="installation.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="f-modindex.html" title="Fortran Module Index"
             >fortran modules</a> |</li>
        <li class="right" >
          <a href="features.html" title="Features of WannierTools"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation (Linux or Mac)"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">WannierTools 2.1 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="input">
<span id="id1"></span><h1>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h1>
<p>There are two input files you should prepare <a class="reference internal" href="#input-dat"><span class="std std-ref">input.dat</span></a>
and  <a class="reference internal" href="#wannier90-dat"><span class="std std-ref">wannier90_hr.dat</span></a></p>
<div class="section" id="input-dat">
<span id="id2"></span><h2>input.dat<a class="headerlink" href="#input-dat" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="#tbfilenamelist"><span class="std std-ref">TB_FILE</span></a></li>
<li><a class="reference internal" href="#systemnamelist"><span class="std std-ref">SYSTEM</span></a></li>
<li><a class="reference internal" href="#controlnamelist"><span class="std std-ref">CONTROL</span></a></li>
<li><a class="reference internal" href="#parametersnamelist"><span class="std std-ref">PARAMETERS</span></a></li>
<li><a class="reference internal" href="#latticecard"><span class="std std-ref">LATTICE</span></a></li>
<li><a class="reference internal" href="#atompositions"><span class="std std-ref">ATOM_POSITIONS</span></a></li>
<li><a class="reference internal" href="#projectors"><span class="std std-ref">PROJECTORS</span></a></li>
<li><a class="reference internal" href="#surface"><span class="std std-ref">SURFACE</span></a></li>
<li><a class="reference internal" href="#kpathbulk"><span class="std std-ref">KPATH_BULK</span></a></li>
<li><a class="reference internal" href="#kpathslab"><span class="std std-ref">KPATH_SLAB</span></a></li>
<li><a class="reference internal" href="#kplane-slab"><span class="std std-ref">KPLANE_SLAB</span></a></li>
<li><a class="reference internal" href="#kplane-bulk"><span class="std std-ref">KPLANE_BULK</span></a></li>
<li><a class="reference internal" href="#kcube-bulk"><span class="std std-ref">KCUBE_BULK</span></a></li>
<li><a class="reference internal" href="#effectivemass"><span class="std std-ref">EFFECTIVE_MASS</span></a></li>
<li><a class="reference internal" href="#wanniercenter"><span class="std std-ref">WANNIER_CENTRES</span></a></li>
</ul>
<p>Before executing wann_tools, you should cp the input.dat file
in the directory wannier_tools/example by your own necessary.</p>
<p>For version later than 2.0, we updated the format of input.dat.
The input file is structured in a number of <strong>NAMELIST</strong> and <strong>INPUT_CARDS</strong>.</p>
<p>Here we introduce the input.dat for Bi2Se3 as an example</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>&amp;TB_FILE
Hrfile = &#39;wannier90_hr.dat&#39;
/

&amp;CONTROL
BulkBand_calc         = T
BulkFS_calc           = T
BulkGap_cube_calc     = T
BulkGap_plane_calc    = T
SlabBand_calc         = T
WireBand_calc         = T
SlabSS_calc           = T
SlabArc_calc          = T
SlabQPI_calc          = T
SlabSpintexture_calc  = T
Wanniercenter_calc    = T
BerryPhase_calc       = T
BerryCurvature_calc   = T
EffectiveMass_calc    = T
/

&amp;SYSTEM
NSLAB = 10              ! for thin film system
NSLAB1= 4               ! nanowire system
NSLAB2= 4               ! nanowire system
NumOccupied = 18        ! NumOccupied
SOC = 1                 ! soc
E_FERMI = 4.4195        ! e-fermi
Bx= 0, By= 0, Bz= 0     ! Bx By Bz
surf_onsite= 0.0        ! surf_onsite
/

&amp;PARAMETERS
Eta_Arc = 0.001     ! infinite small value, like brodening
E_arc = 0.0         ! energy for calculate Fermi Arc
OmegaNum = 100      ! omega number
OmegaMin = -0.6     ! energy interval
OmegaMax =  0.5     ! energy interval
Nk1 = 21           ! number k points  odd number would be better
Nk2 = 21           ! number k points  odd number would be better
Nk3 = 21           ! number k points  odd number would be better
NP = 1              ! number of principle layers
Gap_threshold = 1.0 ! threshold for GapCube output
/

LATTICE
Angstrom
-2.069  -3.583614  0.000000     ! crystal lattice information
 2.069  -3.583614  0.000000
 0.000   2.389075  9.546667

ATOM_POSITIONS
5                               ! number of atoms for projectors
Direct                          ! Direct or Cartisen coordinate
 Bi 0.3990    0.3990    0.6970
 Bi 0.6010    0.6010    0.3030
 Se 0     0     0.5
 Se 0.2060    0.2060    0.1180
 Se 0.7940    0.7940    0.8820

PROJECTORS
 3 3 3 3 3          ! number of projectors
Bi px py pz         ! projectors
Bi px py pz
Se px py pz
Se px py pz
Se px py pz

SURFACE            ! See doc for details
 1  0  0
 0  1  0
 0  0  1

KPATH_BULK            ! k point path
4              ! number of k line only for bulk band
G 0.00000 0.00000 0.0000 Z 0.00000 0.00000 0.5000
Z 0.00000 0.00000 0.5000 F 0.50000 0.50000 0.0000
F 0.50000 0.50000 0.0000 G 0.00000 0.00000 0.0000
G 0.00000 0.00000 0.0000 L 0.50000 0.00000 0.0000

KPATH_SLAB
2        ! numker of k line for 2D case
K 0.33 0.67 G 0.0 0.0  ! k path for 2D case
G 0.0 0.0 M 0.5 0.5

KPLANE_SLAB
-0.1 -0.1      ! Original point for 2D k plane
 0.2  0.0      ! The first vector to define 2D k plane
 0.0  0.2      ! The second vector to define 2D k plane  for arc plots

KPLANE_BULK
-0.00 -0.00  0.00   ! Original point for 3D k plane
 1.00  0.00  0.00   ! The first vector to define 3d k space plane
 0.00  0.50  0.00   ! The second vector to define 3d k space plane


KCUBE_BULK
-0.50 -0.50 -0.50   ! Original point for 3D k plane
 1.00  0.00  0.00   ! The first vector to define 3d k space plane
 0.00  1.00  0.00   ! The second vector to define 3d k space plane
 0.00  0.00  1.00   ! The third vector to define 3d k cube


EFFECTIVE_MASS      ! optional
2                   ! The i&#39;th band to be calculated
0.01                ! k step in unit of (1/Angstrom)
0.0 0.0 0.0         ! k point where the effective mass calculated.


WANNIER_CENTRES     ! copy from wannier90.wout
Cartesian
 -0.000040  -1.194745   6.638646
  0.000038  -1.196699   6.640059
 -0.000032  -1.192363   6.640243
 -0.000086  -3.583414   2.908040
  0.000047  -3.581457   2.906587
 -0.000033  -3.585864   2.906443
 -0.000001   1.194527   4.773338
  0.000003   1.194538   4.773336
 -0.000037   1.194536   4.773327
  0.000006  -1.194384   1.130261
 -0.000018  -1.216986   1.140267
  0.000007  -1.172216   1.140684
  0.000011  -3.583770   8.416406
 -0.000002  -3.561169   8.406398
 -0.000007  -3.605960   8.405979
  0.000086  -1.194737   6.638626
 -0.000047  -1.196693   6.640080
  0.000033  -1.192286   6.640223
  0.000040  -3.583406   2.908021
 -0.000038  -3.581452   2.906608
  0.000032  -3.585788   2.906424
  0.000001   1.194548   4.773330
 -0.000003   1.194537   4.773332
  0.000037   1.194539   4.773340
 -0.000011  -1.194381   1.130260
  0.000002  -1.216981   1.140268
  0.000007  -1.172191   1.140687
 -0.000006  -3.583766   8.416405
  0.000018  -3.561165   8.406400
 -0.000007  -3.605935   8.405982
</pre></div>
</div>
<div class="section" id="namelists">
<span id="namelist"></span><h3>NAMELISTS<a class="headerlink" href="#namelists" title="Permalink to this headline">¶</a></h3>
<p>NAMELISTS are  a standard input construct in Fortran90.
The use of NAMELISTS is relatively flexible.
All the variables in the NAMELISTS have default values.
You should set them only when it is needed.
Variables can be inserted in any order. Such as</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>&amp;NAMELIST
needed_variable2=XX, needed_variable1=YY,
character_variable1=’a suitable string’
/
</pre></div>
</div>
<p>There are 4 <strong>NAMELISTS</strong> included in input.dat. They are <a class="reference internal" href="#tbfilenamelist"><span class="std std-ref">TB_FILE</span></a>, <strong>SYSTEM</strong>, <strong>CONTROL</strong>, <strong>PARAMETERS</strong>.</p>
<div class="section" id="tb-file">
<span id="tbfilenamelist"></span><h4>TB_FILE<a class="headerlink" href="#tb-file" title="Permalink to this headline">¶</a></h4>
<p>Set the filename of the tight-binding Hamiltonian.
At present, we use the format of wannier90_hr.dat specified in Wannier90.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&amp;</span><span class="n">TB_FILE</span>
<span class="n">Hrfile</span> <span class="o">=</span> <span class="s1">&#39;wannier90_hr.dat&#39;</span>
<span class="o">/</span>
</pre></div>
</div>
<p>The default value for Hrfile is &#8216;wannier90_hr.dat&#8217;.</p>
</div>
<div class="section" id="system">
<span id="systemnamelist"></span><h4>SYSTEM<a class="headerlink" href="#system" title="Permalink to this headline">¶</a></h4>
<p>In this namelists, we specify the system you need to compute.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>&amp;SYSTEM
Nslab = 10
Nslab1= 6
Nslab2= 6
NumOccupied = 18        ! NumOccupied
SOC = 1                 ! soc
E_FERMI = 4.4195        ! e-fermi
Bx= 0, By= 0, Bz= 0     ! Bx By Bz
surf_onsite= 0.0        ! surf_onsite
/
</pre></div>
</div>
<ul class="simple">
<li>NSlab : integer,  Number of slabs for slab band, The default value is 10.</li>
<li>NSlab1, Nslab2 :  integers, The thickness of nano ribbon. If you don’t want to calculate the band structure of it, then don’t set it. The default values are Nslab1= 1, Nslab2= 1.</li>
<li>NumOccupied :  integer, Number of occupied Wannier bands. No default value, you have to set it for Wilson loop and gap calculation.</li>
<li>SOC :  integer,  Flag for spin-orbital coupling. If SOC=0, it means there is no SOC included in your given tight binding model. if SOC=1 or &gt;0, it means SOC is already included in the tight binding model.</li>
<li>E_FERMI : real-valued,  Fermi level for the given tight binding model.</li>
<li>Bx, By, Bz : real-valued, magnetic field value. Ignore it in this version.</li>
<li>surf_onsite : real-valued, Additional onsite energy on the surface, you can set this to see how surface state changes. But don’t set it if you don’t know what it is.</li>
</ul>
</div>
<div class="section" id="control">
<span id="controlnamelist"></span><h4>CONTROL<a class="headerlink" href="#control" title="Permalink to this headline">¶</a></h4>
<p>In this name list, you can set the keywords to setup the tasks.
All these tasks can be set to be true at the same time.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>&amp;CONTROL
BulkBand_calc         = T        ! bulk band structure calculation flag
BulkFS_calc           = F
BulkGap_cube_calc     = F
BulkGap_plane_calc    = F
SlabBand_calc         = T
WireBand_calc         = F
SlabSS_calc           = T
SlabArc_calc          = F
SlabSpintexture_calc  = T
wanniercenter_calc    = F
BerryCurvature_calc   = F
/
</pre></div>
</div>
<p>We listed those features in the table below.</p>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="28%" />
<col width="31%" />
<col width="18%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Flag options</th>
<th class="head">Function</th>
<th class="head">Output</th>
<th class="head">Tested</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>BulkBand_calc</td>
<td>Band structure for bulk</td>
<td>bulkek.dat, bulkek.gnu</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>BulkFS_calc</td>
<td>Fermi surface
for bulk system</td>
<td>FS3D.dat, FS3D.bxsf</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>BulkGap_cube_calc</td>
<td>Energy gap for a given k
cube for bulk system</td>
<td>GapCube.dat, GapCube.gnu</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>BulkGap_plane_calc</td>
<td>Energy gap for a given k
plane for bulk system</td>
<td>GapPlane.dat, GapPlane.gnu</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>SlabBand_calc</td>
<td>Band structure for
2D  slab system</td>
<td>slabek.dat,slabek.gnu</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>WireBand_calc</td>
<td>Band structure for
1D ribbon system</td>
<td>ribbonek.dat,ribbonek.gnu</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>Dos_calc</td>
<td>Density of state for
3D bulk system</td>
<td>dos.dat</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>JDos_calc</td>
<td>Joint Density of state
for 3D bulk system</td>
<td>jdos.dat</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>SlabSS_calc</td>
<td>Surface spectrum A(k,E)
along a kline and energy
interval for slab system</td>
<td>dos.dat_l, dos.dat_r,
dos.dat_bulk,surfdos_l.gnu,
surfdos_r.gnu,
surfdos_l_only.gnu,
surfdos_r_only.gnu,
surfdos_bulk.gnu</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>SlabArc_calc</td>
<td>Surface spectrum A(k,E0)
for fixed energy E0
in 2D k-plane
for slab system</td>
<td>arc.dat_l, arc.dat_r,
arc_l.gnu, arc_r.gnu,
arc_l_only.gnu,
arc_l_only.gnu,</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>SlabQPI_calc</td>
<td>Surface QPI
for fixed energy E0
in 2D k-plane
for slab system</td>
<td>arc.dat_l, arc.dat_r,
arc_l.gnu, arc_r.gnu,
arc_l_only.gnu,
arc_l_only.gnu,
arc.jdat_l, arc.jdat_r,
arc.jsdat_l, arc.jsdat_r,
arc_l_jdos.gnu,
arc_l_jsdos.gnu,
arc_r_jdos.gnu,
arc_r_jsdos.gnu,</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>SlabSpintexture_calc</td>
<td>Spin texture
in 2D k-plane
for slab system</td>
<td>spindos.dat,
spintext.gnu,
spintext.dat</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>wanniercenter_calc</td>
<td>Wilson loop
in 3D k-plane
for bulk system</td>
<td>wcc.dat,
wcc.gnu</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>BerryPhase_calc</td>
<td>Berry phase
with a 3D k path
for bulk system</td>
<td>&nbsp;</td>
<td>No</td>
</tr>
<tr class="row-even"><td>BerryCurvature_calc</td>
<td>Berry Curvature
in 3D k-plane
for bulk system</td>
<td>BerryCurvature.dat,
BerryCurvature.gnu</td>
<td>yes</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="parameters">
<span id="parametersnamelist"></span><h4>PARAMETERS<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h4>
<p>In this namelists, we listed some parameters necessary in the task you specified in namelists CONTROL.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>&amp;PARAMETERS
E_arc = 0.0             ! energy for calculate Fermi Arc
Eta_Arc = 0.001     ! infinite small value, like broadening
OmegaNum = 200      ! omega number
OmegaMin = -0.6     ! energy interval
OmegaMax =  0.5     ! energy interval
Nk1 = 50            ! number k points
Nk2 = 50            ! number k points
Nk3 = 50            ! number k points
NP = 2              ! number of principle layers
Gap_threshold = 1.0    ! threshold for GapCube output
/
</pre></div>
</div>
<p><strong>E_arc</strong> : real-valued, energy for calculate Fermi arc, used if SlabArc_calc = T. The default value  is 0.0.</p>
<p><strong>Eta_Arc</strong> : real-valued, infinite same value for broadening used in Green’s function calculation.  used if SlabArc_calc = T. Default value  is 0.001.</p>
<p><strong>[OmegaMin, OmegaMax]</strong> : real-valued, energy interval for surface state calculation. used if SlabSS_calc= T. No default value.</p>
<p><strong>OmegaNum</strong> : integer valued, Number of slices in the energy interval [OmegaMin, OmegaMax]. used if SlabSS_calc= T. The default value is 100.</p>
<p><strong>Nk1, Nk2, Nk3</strong> : integer valued, Number of k points for different purpose. I will explain that later. Default value is Nk1=20, Nk2=20, Nk3=20.</p>
<p><strong>NP</strong> : integer valued, Number of principle layers, see details related to iterative green’s function. Used if  SlabSS_calc= T, SlabArc_calc=T, SlabSpintexture_calc=T. Default value is 2. You need to do a convergence test by setting Np= 1, Np=2, Np=3, and check the surface state spectrum. Basically, the value of Np depends on the spread of Wannier functions you constructed. One thing should be mentioned is that the computational time grows cubically of Np.</p>
<p><strong>Gap_threshold</strong> :  real valued. This value is used when you do energy gap calculation like BulkGap_cube_calc=T, BulkGap_plane_calc=T. The k points will be printed out in a file when the energy gap is smaller than Gap_threshold.</p>
</div>
</div>
<div class="section" id="input-card">
<span id="inputcard"></span><h3>Input Card<a class="headerlink" href="#input-card" title="Permalink to this headline">¶</a></h3>
<p>The second important format in input.dat is the input_card format, which is relatively fixed format. First, we need a keyword like LATTICE, which is name of this card. After this keyword, the number of lines is fixed until it is done.
There are several INPUT_CARDS in the input.dat. There is no order between the INPUT_CARDS. And any comments or blank lines could be added between the INPUT_CARDS.  Lets introduce them one by one.</p>
<div class="section" id="lattice">
<span id="latticecard"></span><h4>LATTICE<a class="headerlink" href="#lattice" title="Permalink to this headline">¶</a></h4>
<p>In this card, we set three lattice vectors coordinates.
For the unit, you can use both Angstrom and Bohr. However, in the program, we use Angstrom.
Bohr unit will be transformed to Angstrom automatically. No default values for the LATTICE CARD.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>LATTICE
Angstrom
-2.069  -3.583614  0.000000     ! crystal lattice information
 2.069  -3.583614  0.000000
 0.000   2.389075  9.546667
</pre></div>
</div>
</div>
<div class="section" id="atom-positions">
<span id="atompositions"></span><h4>ATOM_POSITIONS<a class="headerlink" href="#atom-positions" title="Permalink to this headline">¶</a></h4>
<p>In this card, we set the atom’s position.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>ATOM_POSITIONS
5                               ! number of atoms for projectors
Direct                          ! Direct or Cartisen coordinate
Bi 0.3990    0.3990    0.6970
Bi 0.6010    0.6010    0.3030
Se 0     0     0.5
Se 0.2060    0.2060    0.1180
Se 0.7940    0.7940    0.8820
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">1. Here the atom means that the atoms with projectors.
not the whole atoms in the unit cell.
2. You can use “Direct&#8221; or “Cartesian&#8221; coordinates. “Direct&#8221; means the fractional coordinate based on the primitive lattice vector listed in LATTICE CARDS.</p>
</div>
</div>
<div class="section" id="projectors">
<span id="id3"></span><h4>PROJECTORS<a class="headerlink" href="#projectors" title="Permalink to this headline">¶</a></h4>
<p>In this card, we set the Wannier projectors for the tight binding.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>PROJECTORS
 3 3 3 3 3          ! number of projectors
 Bi px py pz         ! projectors
 Bi px py pz
 Se px py pz
 Se px py pz
 Se px py pz
</pre></div>
</div>
<p>Here we don’t take into account the spin degeneracy, only consider the orbital part. The name of orbitals should be “s”, “px”, “py”, “pz”, “dxy”, “dxz”, “dyz”, “dx2-y2”, “dz2”. I will add f orbitals latter. The order of the orbitals is very important if you want to analyze the symmetry properties.</p>
</div>
<div class="section" id="surface">
<span id="id4"></span><h4>SURFACE<a class="headerlink" href="#surface" title="Permalink to this headline">¶</a></h4>
<p><strong>This card is very important for slabs and ribbon calculation. You need to read the following text carefully</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span>SURFACE            ! See doc for details
 1  0  0           a11, a12, a13
 0  1  0           a21 a22 a23
 0  0  1           a31 a32 a33
</pre></div>
</div>
<p>In this card, we specify the surface you want to investigate.  Basically,
you should be aware of which surface you want to investigate,
and of which direction you want to study the ribbon.
So we need to define the new lattice vector system like this,</p>
<p>1. choose two vectors on the surface we want to study,
and choose another vector which is not on this plane.</p>
<p>2. The volume of the  new cell constructed by those three vectors
should be the same of the previous one. And the orientation should be
the same by checking  <span class="math">\(R_1'\cdot(R_2'\times R_3')= R_1\cdot(R_2\times R_3)\)</span>.
The relations between old and new basis are</p>
<p><span class="math">\(R_1'= a_{11} R_1 + a_{12} R_2 + a_{13} R_3\)</span></p>
<p><span class="math">\(R_2'= a_{21} R_1 + a_{22} R_2 + a_{23} R_3\)</span></p>
<p><span class="math">\(R_3'= a_{31} R_1 + a_{32} R_2 + a_{33} R_3\)</span></p>
<p>The slab calculations are base on the surface constructed by vector <span class="math">\(R_1', R_2'\)</span>.</p>
<p>The ribbon is along <span class="math">\(R_3'\)</span> direction,
two surfaces are constructed by vector  <span class="math">\(R_1', R_3'\)</span> and  <span class="math">\(R_2', R_3'\)</span> respectively.</p>
</div>
<div class="section" id="kpath-bulk">
<span id="kpathbulk"></span><h4>KPATH_BULK<a class="headerlink" href="#kpath-bulk" title="Permalink to this headline">¶</a></h4>
<p>This is the k path for bulk band structure calculation.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>KPATH_BULK            ! k point path
4              ! number of k line only for bulk band
G 0.00000 0.00000 0.0000 Z 0.00000 0.00000 0.5000
Z 0.00000 0.00000 0.5000 F 0.50000 0.50000 0.0000
F 0.50000 0.50000 0.0000 G 0.00000 0.00000 0.0000
G 0.00000 0.00000 0.0000 L 0.50000 0.00000 0.0000
</pre></div>
</div>
<p>These k points are in unit of the reciprocal lattice constant built by the lattice vector LATTICE CARD. The number of k points is Nk1, which is set in NAMELISTS PARAMETERS. There are no default values for this CARD. So you must set some value in the input file when choosing BulkBand_calc=T.</p>
</div>
<div class="section" id="kpath-slab">
<span id="kpathslab"></span><h4>KPATH_SLAB<a class="headerlink" href="#kpath-slab" title="Permalink to this headline">¶</a></h4>
<p>This is the k path for slab system.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>KPATH_SLAB
2        ! numker of k line for 2D case
K 0.33 0.67 G 0.0 0.0  ! k path for 2D case
G 0.0 0.0 M 0.5 0.5
</pre></div>
</div>
<p>including the  band structure calculation and the surface state calculation. It is necessary to set it when SlabBand_calc=T or SlabSS_calc=T.  Number of k points along the line is Nk1.</p>
</div>
<div class="section" id="kplane-slab">
<span id="id5"></span><h4>KPLANE_SLAB<a class="headerlink" href="#kplane-slab" title="Permalink to this headline">¶</a></h4>
<p>Define a 2D k space plane for arc plots.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>KPLANE_SLAB
-0.1 -0.1      ! Original point for 2D k plane
 0.2  0.0      ! The first vector to define 2D k plane
 0.0  0.2      ! The second vector to define 2D k plane  for arc plots
</pre></div>
</div>
<p>The first line is the start point of the plane. The second and third line are the two vectors defining the plane. The number of k points for the 1st and 2nd vector is Nk1 and Nk2 respectively. Set this CARD when SlabArc_calc=T, SlabSpintexture_calc= T. The default values are</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>KPLANE_SLAB
-0.5 -0.5      ! Original point for 2D k plane
 1.0  0.0      ! The first vector to define 2D k plane
 0.0  1.0      ! The second vector to define 2D k plane  for arc plots
</pre></div>
</div>
</div>
<div class="section" id="kplane-bulk">
<span id="id6"></span><h4>KPLANE_BULK<a class="headerlink" href="#kplane-bulk" title="Permalink to this headline">¶</a></h4>
<p>The same set as KPLANE_SLAB CARD, but for 3D case.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>KPLANE_BULK
-0.50 -0.50  0.00   ! Original point for 3D k plane
 1.00  0.00  0.00   ! The first vector to define 3d k space plane
 0.00  1.00  0.00   ! The second vector to define 3d k space plane
</pre></div>
</div>
<p>We can use these two vectors to calculate the band gap of a plane in 3D BZ, then we can check whether there are Weyl points or nodal line in that plane. Notice that these vectors is in unit of reciprocal vectors. Set this CARD when BulkGap_plane_calc=T, BerryCurvature_calc=T, wanniercenter_calc=T. Default values are</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>KPLANE_BULK
 0.00  0.00  0.00    ! Original point for 3D k plane
 1.00  0.00  0.00   ! The first vector to define 3d k space plane
 0.00  0.50  0.00   ! The second vector to define 3d k space plane
</pre></div>
</div>
</div>
<div class="section" id="kcube-bulk">
<span id="id7"></span><h4>KCUBE_BULK<a class="headerlink" href="#kcube-bulk" title="Permalink to this headline">¶</a></h4>
<p>The same set as KPLANE_BULK CARD</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>KCUBE_BULK
-0.50 -0.50 -0.50   ! Original point for 3D k plane
 1.00  0.00  0.00   ! The first vector to define 3d k space plane
 0.00  1.00  0.00   ! The second vector to define 3d k space plane
 0.00  0.00  1.00   ! The third vector to define 3d k cube
</pre></div>
</div>
<p>We add another  k vector to construct a k cube. Set this for BulkGap_cube_calc=T.  The values list above are default values.</p>
</div>
<div class="section" id="effective-mass">
<span id="effectivemass"></span><h4>EFFECTIVE_MASS<a class="headerlink" href="#effective-mass" title="Permalink to this headline">¶</a></h4>
<p>This card is set for effective mass calculation</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>EFFECTIVE_MASS      ! optional
2                   ! The i&#39;th band to be calculated
0.01                ! k step in unit of (1/Angstrom)
0.0 0.0 0.0         ! k point where the effective mass calculated.
</pre></div>
</div>
</div>
<div class="section" id="wannier-centres">
<span id="wanniercenter"></span><h4>WANNIER_CENTRES<a class="headerlink" href="#wannier-centres" title="Permalink to this headline">¶</a></h4>
<p>This card will be usefull for Wilson loop calculations.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>WANNIER_CENTRES     ! copy from wannier90.wout
Cartesian
 -0.000040  -1.194745   6.638646
  0.000038  -1.196699   6.640059
 -0.000032  -1.192363   6.640243
 -0.000086  -3.583414   2.908040
  0.000047  -3.581457   2.906587
 -0.000033  -3.585864   2.906443
 -0.000001   1.194527   4.773338
  0.000003   1.194538   4.773336
 -0.000037   1.194536   4.773327
  0.000006  -1.194384   1.130261
 -0.000018  -1.216986   1.140267
  0.000007  -1.172216   1.140684
  0.000011  -3.583770   8.416406
 -0.000002  -3.561169   8.406398
 -0.000007  -3.605960   8.405979
  0.000086  -1.194737   6.638626
 -0.000047  -1.196693   6.640080
  0.000033  -1.192286   6.640223
  0.000040  -3.583406   2.908021
 -0.000038  -3.581452   2.906608
  0.000032  -3.585788   2.906424
  0.000001   1.194548   4.773330
 -0.000003   1.194537   4.773332
  0.000037   1.194539   4.773340
 -0.000011  -1.194381   1.130260
  0.000002  -1.216981   1.140268
  0.000007  -1.172191   1.140687
 -0.000006  -3.583766   8.416405
  0.000018  -3.561165   8.406400
 -0.000007  -3.605935   8.405982
</pre></div>
</div>
<p>Those centres can be obtained from wannier90.wout by searching &#8220;Final state&#8221;.
The default values for this card are atomic positions.</p>
</div>
</div>
</div>
<div class="section" id="wannier90-hr-dat">
<span id="wannier90-dat"></span><h2>wannier90_hr.dat<a class="headerlink" href="#wannier90-hr-dat" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Input</a><ul>
<li><a class="reference internal" href="#input-dat">input.dat</a><ul>
<li><a class="reference internal" href="#namelists">NAMELISTS</a><ul>
<li><a class="reference internal" href="#tb-file">TB_FILE</a></li>
<li><a class="reference internal" href="#system">SYSTEM</a></li>
<li><a class="reference internal" href="#control">CONTROL</a></li>
<li><a class="reference internal" href="#parameters">PARAMETERS</a></li>
</ul>
</li>
<li><a class="reference internal" href="#input-card">Input Card</a><ul>
<li><a class="reference internal" href="#lattice">LATTICE</a></li>
<li><a class="reference internal" href="#atom-positions">ATOM_POSITIONS</a></li>
<li><a class="reference internal" href="#projectors">PROJECTORS</a></li>
<li><a class="reference internal" href="#surface">SURFACE</a></li>
<li><a class="reference internal" href="#kpath-bulk">KPATH_BULK</a></li>
<li><a class="reference internal" href="#kpath-slab">KPATH_SLAB</a></li>
<li><a class="reference internal" href="#kplane-slab">KPLANE_SLAB</a></li>
<li><a class="reference internal" href="#kplane-bulk">KPLANE_BULK</a></li>
<li><a class="reference internal" href="#kcube-bulk">KCUBE_BULK</a></li>
<li><a class="reference internal" href="#effective-mass">EFFECTIVE_MASS</a></li>
<li><a class="reference internal" href="#wannier-centres">WANNIER_CENTRES</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#wannier90-hr-dat">wannier90_hr.dat</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="installation.html"
                        title="previous chapter">Installation (Linux or Mac)</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="features.html"
                        title="next chapter">Features of WannierTools</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="sources/input.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="f-modindex.html" title="Fortran Module Index"
             >fortran modules</a> |</li>
        <li class="right" >
          <a href="features.html" title="Features of WannierTools"
             >next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation (Linux or Mac)"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">WannierTools 2.1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, QuanSheng Wu.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.8.
    </div>
  </body>
</html>